{"version":3,"sources":["components/Searchbar/Searchbar.jsx","App.jsx","services/apiSearchImg.jsx","index.jsx"],"names":["Searchbar","state","value","SubmitHandler","e","preventDefault","console","log","props","onSubmit","trim","toLowerCase","setState","changeHandler","target","this","className","type","onChange","placeholder","Component","newPixabayFetchFunc","BASE_URL","API_KEY","getImages","searchQuery","axios","defaults","baseURL","url","searchPage","get","then","result","data","hits","catch","err","_searchQuery","App","arreyImages","searchValue","onsubmitHandler","submitSearchForm","prevProps","prevState","response","length","map","el","src","webformatURL","alt","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kSACMA,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,cAAgB,SAAAC,GACdA,EAAEC,iBACFC,QAAQC,IAAI,yFAAoB,EAAKN,MAAMC,OAC3C,EAAKM,MAAMC,SAAS,EAAKR,MAAMC,MAAMQ,OAAOC,eAC5C,EAAKC,SAAS,CAAEV,MAAO,M,EAEzBW,cAAgB,SAAAT,GACd,EAAKQ,SAAS,CAAEV,MAAOE,EAAEU,OAAOZ,S,4CAElC,WACE,IAAQA,EAAUa,KAAKd,MAAfC,MAER,OADAI,QAAQC,IAAIL,GAEV,wBAAQc,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaP,SAAUM,KAAKZ,cAA5C,UACE,wBAAQc,KAAK,SAASD,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVC,KAAK,OACLC,SAAUH,KAAKF,cACfX,MAAOA,EAGPiB,YAAY,sC,GA/BAC,aAuCTpB,I,iBChCTqB,EAAsB,ICP5B,WACE,WAAYC,EAAUC,GAAU,IAAD,gCAc/BC,UAAY,WACVlB,QAAQC,IAAI,EAAKkB,aACjBC,IAAMC,SAASC,QAAU,EAAKN,SAC9B,IAAIO,EAAG,aAAS,EAAKJ,YAAd,iBAAkC,EAAKK,WAAvC,gBAAyD,EAAKP,QAA9D,wDACP,OAAOG,IACJK,IAAIF,GACJG,MAAK,SAAAC,GAEJ,OADA3B,QAAQC,IAAI0B,GACLA,EAAOC,QAEfF,MAAK,SAAAE,GAEJ,OADA5B,QAAQC,IAAI2B,EAAKC,MACVD,EAAKC,QAEbC,OAAM,SAAAC,GACL/B,QAAQC,IAAI8B,OA5BhBtB,KAAKO,SAAWA,EAChBP,KAAKQ,QAAUA,EACfR,KAAKU,YAAc,GACnBV,KAAKe,WAAa,EALtB,6CAOE,WACE,OAAOf,KAAKuB,cARhB,IAWE,SAAgBpC,GACd,OAAQa,KAAKuB,aAAepC,MAZhC,KDO4B,CAHX,2BACD,sCAGhBI,QAAQC,IAAI,SAAUc,G,IAChBkB,E,4MACJtC,MAAQ,CACNuC,YAAa,GACbf,YAAa,GACbK,WAAY,EACZW,YAAa,I,EAYfC,gBAAkB,SAAAC,GAGhB,EAAK/B,UAAS,iBAAO,CAEnBa,YAAakB,EACbb,WAAY,O,uDAhBhB,c,gCACA,SAAmBc,EAAWC,GAAY,IAAD,OACnCA,EAAUpB,cAAgBV,KAAKd,MAAMwB,cACvCJ,EAAoBI,YAAcV,KAAKd,MAAMwB,YAC7CJ,EAAoBG,YAAYQ,MAAK,SAAAc,GACnC,EAAKlC,SAAS,CAAE4B,YAAaM,IAC7BxC,QAAQC,IAAIuC,S,oBAclB,WACE,OACE,sBAAK9B,UAAU,MAAf,UACE,cAAC,EAAD,CAAWP,SAAUM,KAAK2B,kBAC1B,oBAAI1B,UAAU,eAAd,SACGD,KAAKd,MAAMuC,YAAYO,OAAS,GAC/BhC,KAAKd,MAAMuC,YAAYQ,KAAI,SAAAC,GACzB,OACE,6BACE,qBACEC,IAAKD,EAAGE,aACRC,IAAI,GACJpC,UAAU,4BAJLiC,EAAGI,gB,GAnCVjC,aAkDHmB,IEpDfe,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f76bd9c2.chunk.js","sourcesContent":["import { React, Component } from 'react';\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  SubmitHandler = e => {\n    e.preventDefault();\n    console.log(' перед отправкой', this.state.value);\n    this.props.onSubmit(this.state.value.trim().toLowerCase());\n    this.setState({ value: '' });\n  };\n  changeHandler = e => {\n    this.setState({ value: e.target.value });\n  };\n  render() {\n    const { value } = this.state;\n    console.log(value);\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.SubmitHandler}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            onChange={this.changeHandler}\n            value={value}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import './styles.css';\nimport React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { PixabayFetchFunc } from './services/apiSearchImg';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23145424-17de0e2191faefedd106abc58';\n\nconst newPixabayFetchFunc = new PixabayFetchFunc(BASE_URL, API_KEY);\nconsole.log('SEARCH', newPixabayFetchFunc);\nclass App extends Component {\n  state = {\n    arreyImages: [],\n    searchQuery: '',\n    searchPage: 1,\n    searchValue: '',\n  };\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      newPixabayFetchFunc.searchQuery = this.state.searchQuery;\n      newPixabayFetchFunc.getImages().then(response => {\n        this.setState({ arreyImages: response });\n        console.log(response);\n      });\n    }\n  }\n  onsubmitHandler = submitSearchForm => {\n    // this.maxPages = 0;\n\n    this.setState(() => ({\n      // arreyImages: [],\n      searchQuery: submitSearchForm,\n      searchPage: 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onsubmitHandler} />\n        <ul className=\"ImageGallery\">\n          {this.state.arreyImages.length > 0 &&\n            this.state.arreyImages.map(el => {\n              return (\n                <li key={el.id}>\n                  <img\n                    src={el.webformatURL}\n                    alt=\"\"\n                    className=\"ImageGalleryItem-image\"\n                  />\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import axios from 'axios';\nexport class PixabayFetchFunc {\n  constructor(BASE_URL, API_KEY) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this.searchQuery = '';\n    this.searchPage = 1;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  getImages = () => {\n    console.log(this.searchQuery);\n    axios.defaults.baseURL = this.BASE_URL;\n    let url = `?q=${this.searchQuery}&page=${this.searchPage}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    return axios\n      .get(url)\n      .then(result => {\n        console.log(result);\n        return result.data;\n      })\n      .then(data => {\n        console.log(data.hits);\n        return data.hits;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport '../src/styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}